JMP MAIN
JMP isr

QUIT: DW 0
COUNTER: DW 0x0039

isr:
PUSH A
MOV C, [COUNTER]

PRINT:
MOV A, 0
OUT 8
MOVB AH, CL
MOVB AL, 255
OUT 9
DEC C
MOV [COUNTER], C
CMP C, 0x002F
JNE TIMER

MOV [QUIT], 1

TIMER:
MOV A, 2
OUT 2
POP A
IRET

RANDOM_NUM:
IN 10
AND A, 0x0F1E
CMP A, 0x0004
JBE RANDOM_NUM
MOV D, A
RET

MAIN:
MOV SP, 0x0FFF
MOV A, 1
OUT 7
;SCREEN
MOV A, 1
OUT 7

MOV B, 20    ;COUNTER

;LISTO I BOJATA
MOVB CH, 6 ;OBJ
MOVB CL, 215; BOJA

;PRINTING ON SCREEN 20 LISTA
LEVEL:
DEC B; NAMALUVASH COUNTER
;NE PROVERI ZA COUNTER 2
CALL RANDOM_NUM
MOV A, D
OUT 8
;OBJ
MOVB AH, CH
MOVB AL, CL
OUT 9
;COUNTER CHEK
CMP B, 0
JNE LEVEL
MOV A, 5000
OUT 3
MOV A, 2
OUT 0
STI
LOOP:
MOV A, [QUIT]
CMP A, 1
JE BREAK
JMP LOOP
BREAK:
CLI
MOV A, 3
OUT 7
HLT
